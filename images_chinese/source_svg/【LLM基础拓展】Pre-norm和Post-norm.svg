<svg width="1890" height="1663" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" overflow="auto"><defs><clipPath id="clip0"><rect x="0" y="0" width="1890" height="1663"/></clipPath></defs><g clip-path="url(#clip0)"><rect x="0" y="0" width="1890" height="1662.85" fill="#FFFFFF"/><path d="M75 117.226C75 88.3793 98.3871 64.9942 127.237 64.9942L736.763 64.9942C765.613 64.9942 789 88.3793 789 117.226L789 1215.66C789 1244.5 765.613 1267.89 736.763 1267.89L127.237 1267.89C98.3871 1267.89 75 1244.5 75 1215.66Z" fill="#DEEBF7" fill-rule="evenodd"/><path d="M877 116.641C877 88.1172 900.125 64.9942 928.651 64.9942L1531.35 64.9942C1559.87 64.9942 1583 88.1172 1583 116.641L1583 1216.24C1583 1244.77 1559.87 1267.89 1531.35 1267.89L928.651 1267.89C900.125 1267.89 877 1244.77 877 1216.24Z" fill="#DEEBF7" fill-rule="evenodd"/><path d="M339.5 477.792C339.5 467.115 348.156 458.46 358.834 458.46L602.166 458.46C612.844 458.46 621.5 467.115 621.5 477.792L621.5 555.117C621.5 565.794 612.844 574.449 602.166 574.449L358.834 574.449C348.156 574.449 339.5 565.794 339.5 555.117Z" stroke="#4472C4" stroke-width="1.33345" stroke-miterlimit="8" fill="#D9D9D9" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 445.429 507)">Layer</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 370.97 545)">(Attention / FFN)</text><path d="M339.5 708.938C339.5 698.169 348.231 689.439 359 689.439L602 689.439C612.769 689.439 621.5 698.169 621.5 708.938L621.5 786.93C621.5 797.699 612.769 806.429 602 806.429L359 806.429C348.231 806.429 339.5 797.699 339.5 786.93Z" stroke="#4472C4" stroke-width="1.33345" stroke-miterlimit="8" fill="#B4C7E7" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 443.103 758)">Norm</text><path d="M438.5 306.473C438.5 283.279 457.304 264.477 480.5 264.477 503.696 264.477 522.5 283.279 522.5 306.473 522.5 329.667 503.696 348.469 480.5 348.469 457.304 348.469 438.5 329.667 438.5 306.473Z" stroke="#6C4F00" stroke-width="1.33345" stroke-miterlimit="8" fill="#FFC000" fill-rule="evenodd"/><path d="M0.666667-5.11614e-07 0.666767 130.138-0.666567 130.138-0.666667 5.11614e-07ZM4.0001 128.805 0.000104987 136.805-3.9999 128.805Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 480.5 943.234)"/><path d="M0.666667-6.05072e-07 0.666766 109.008-0.666568 109.008-0.666667 6.05072e-07ZM4.0001 107.674 0.000104987 115.674-3.9999 107.674Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 480.5 690.124)"/><path d="M479.833 457.562 479.833 355.136 481.167 355.136 481.167 457.562ZM476.5 356.469 480.5 348.469 484.5 356.469Z" fill="#44546A"/><path d="M475.5 867.923C475.5 865.438 477.739 863.424 480.5 863.424 483.261 863.424 485.5 865.438 485.5 867.923 485.5 870.409 483.261 872.423 480.5 872.423 477.739 872.423 475.5 870.409 475.5 867.923Z" stroke="#172C51" stroke-width="1.33345" stroke-miterlimit="8" fill="#4472C4" fill-rule="evenodd"/><path d="M0.666665-0.00125965 0.849449 96.7366-0.483881 96.7392-0.666665 0.00125965ZM4.18026 95.3971 0.195381 103.405-3.81973 95.4122Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 1280.5 248.892)"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 455.419 997)">X(i)</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 442.168 137)">X(i+1)</text><path d="M0-0.666667 5.33008-0.666667 5.33008 282.764 4.66341 282.097 565.922 282.097 565.256 282.764 565.256 48.6631 566.589 48.6631 566.589 283.43 3.99675 283.43 3.99675 0 4.66341 0.666667 0 0.666667ZM561.922 49.9964 565.922 41.9964 569.922 49.9964Z" fill="#44546A" transform="matrix(-6.12377e-17 -1 -1.00009 6.12323e-17 480.5 872.395)"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 458.646 316)">Add</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1012.17 699)">X(i)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 485.569 408)">H(i)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 485.831 230)">H(i)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 539.669 230)">+ X(i)</text><path d="M1139.5 267.977C1139.5 257.208 1148.23 248.478 1159 248.478L1402 248.478C1412.77 248.478 1421.5 257.208 1421.5 267.977L1421.5 345.969C1421.5 356.738 1412.77 365.468 1402 365.468L1159 365.468C1148.23 365.468 1139.5 356.738 1139.5 345.969Z" stroke="#4472C4" stroke-width="1.33345" stroke-miterlimit="8" fill="#B4C7E7" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1243.01 317)">Norm</text><path d="M1139.5 708.938C1139.5 698.169 1148.23 689.439 1159 689.439L1402 689.439C1412.77 689.439 1421.5 698.169 1421.5 708.938L1421.5 786.93C1421.5 797.699 1412.77 806.429 1402 806.429L1159 806.429C1148.23 806.429 1139.5 797.699 1139.5 786.93Z" stroke="#4472C4" stroke-width="1.33345" stroke-miterlimit="8" fill="#D0CECE" fill-rule="evenodd"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1245.33 739)">Layer</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1170.87 777)">(Attention / FFN)</text><path d="M1238.5 516.454C1238.5 493.261 1257.3 474.458 1280.5 474.458 1303.7 474.458 1322.5 493.261 1322.5 516.454 1322.5 539.648 1303.7 558.451 1280.5 558.451 1257.3 558.451 1238.5 539.648 1238.5 516.454Z" stroke="#6C4F00" stroke-width="1.33345" stroke-miterlimit="8" fill="#FFC000" fill-rule="evenodd"/><path d="M0.666667-5.47827e-07 0.666766 121.095-0.666567 121.095-0.666667 5.47827e-07ZM4.0001 119.762 0.000104987 127.762-3.9999 119.762Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 1280.5 934.191)"/><path d="M1275.5 867.923C1275.5 865.438 1277.74 863.424 1280.5 863.424 1283.26 863.424 1285.5 865.438 1285.5 867.923 1285.5 870.409 1283.26 872.423 1280.5 872.423 1277.74 872.423 1275.5 870.409 1275.5 867.923Z" stroke="#172C51" stroke-width="1.33345" stroke-miterlimit="8" fill="#4472C4" fill-rule="evenodd"/><path d="M1279.83 690.219 1279.83 565.117 1281.17 565.117 1281.17 690.219ZM1276.5 566.451 1280.5 558.451 1284.5 566.451Z" fill="#44546A"/><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1255.32 997)">X(i)</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1242.07 131)">X(i+1)</text><path d="M0-0.666667 4.16622-0.666667 4.16622 272.941 3.49955 272.274 356.743 272.274 356.077 272.941 356.077 48.6633 357.41 48.6633 357.41 273.608 2.83288 273.608 2.83288 0 3.49955 0.666667 0 0.666667ZM352.743 49.9966 356.743 41.9966 360.743 49.9966Z" fill="#44546A" transform="matrix(-6.12377e-17 -1 -1.00009 6.12323e-17 1280.5 873.198)"/><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1285.34 436)">H(i)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1339.18 436)">+ X(i)</text><path d="M0.666667-6.42006e-07 0.666765 102.353-0.666568 102.353-0.666667 6.42006e-07ZM4.0001 101.02 0.000104987 109.02-3.9999 101.02Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 1280.5 474.487)"/><path d="M0.666666-0.00114867 0.851189 107.093-0.482142 107.095-0.666666 0.00114867ZM4.18222 105.754 0.19601 113.76-3.81777 105.767Z" fill="#44546A" transform="matrix(1.00009 0 0 -1 480.5 265.247)"/><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1286.72 634)">H(i)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 202.649 588)">X(i)</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 1255.18 524)">Add</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="43" transform="matrix(1 0 0 0.999912 372.709 1101)">Pre</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="43" transform="matrix(1 0 0 0.999912 431.567 1101)">-</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="43" transform="matrix(1 0 0 0.999912 444.568 1101)">norm</text><text fill="#222A35" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 312.63 1142)">(</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 322.297 1142)">---</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 351.8 1142)">&gt;</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 374.969 1142)">Norm</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 457.643 1142)">---</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 487.145 1142)">&gt;</text><text fill="#ED7D31" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 517.481 1142)">Add</text><text fill="#222A35" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 569.653 1142)">)</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="43" transform="matrix(1 0 0 0.999912 1177.09 1101)">Post</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="43" transform="matrix(1 0 0 0.999912 1253.43 1101)">-</text><text font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="43" transform="matrix(1 0 0 0.999912 1266.43 1101)">norm</text><text fill="#222A35" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1129.17 1142)">(</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1138.83 1142)">---</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1168.34 1142)">&gt;</text><text fill="#ED7D31" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1191.5 1142)">Add</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1250.84 1142)">---</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1280.35 1142)">&gt;</text><text fill="#2E75B6" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 1303.51 1142)">Norm</text><text fill="#222A35" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 1379.02 1142)">)</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 628.447 755)">“pre”</text><text fill="#767171" font-family="Calibri,Calibri_MSFontService,sans-serif" font-weight="400" font-size="32" transform="matrix(1 0 0 0.999912 1045.17 310)">“post”</text><text font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 153.052 1214)">X(i+1) = X(i) + Layer(</text><text fill="#0070C0" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 474.707 1214)">Norm(</text><text font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 574.462 1214)">X(i)</text><text fill="#0070C0" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 637.968 1214)">)</text><text font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 665.637 1214)">)</text><text font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 963.167 1215)">X(i+1) =</text><text fill="#0070C0" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 1094.85 1215)">Norm(</text><text font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 1194.6 1215)">X(i) + Layer ( X(i) )</text><text fill="#0070C0" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 1484.25 1215)">)</text><path d="M15.4999 40.1706C15.4999 24.3357 28.3378 11.499 44.1741 11.499L1602.83 11.499C1618.66 11.499 1631.5 24.3357 1631.5 40.1706L1631.5 1354.71C1631.5 1370.54 1618.66 1383.38 1602.83 1383.38L44.1741 1383.38C28.3378 1383.38 15.4999 1370.54 15.4999 1354.71Z" stroke="#BFBFBF" stroke-linejoin="round" stroke-miterlimit="10" fill="none" fill-rule="evenodd"/><path d="M48 1377.88 67.3906 1338.88 690 1338.88 670.609 1377.88Z" fill="#F2F2F2" fill-rule="evenodd"/><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 203.557 1369)">Pre</text><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 252.141 1369)">-</text><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 263.809 1369)">norm</text><text fill="#4472C4" font-family="KaiTi,KaiTi_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 345.896 1369)">和</text><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 386.566 1369)">Post</text><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 449.252 1369)">-</text><text fill="#4472C4" font-family="Bell MT,Bell MT_MSFontService,sans-serif" font-weight="700" font-size="32" transform="matrix(1 0 0 0.999912 460.919 1369)">norm</text><text fill="#5B9BD5" font-family="Cambria,Cambria_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 706.579 1368)">©</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 729.247 1368)">《</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 755.916 1368)">大模型算法</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 889.261 1368)">》</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 915.93 1368)">作者</text><text fill="#5B9BD5" font-family="Aptos Narrow,Aptos Narrow_MSFontService,sans-serif" font-weight="700" font-stretch="semi-condensed" font-size="27" transform="matrix(1 0 0 0.999912 974.102 1368)">——</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 1017.11 1368)">余昌叶</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 1097.11 1368)">（原书更多</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 1230.46 1368)">开源</text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 1283.8 1368)">：</text><text fill="#5B9BD5" font-family="Gadugi,Gadugi_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 1310.47 1368)">github.com/</text><text fill="#5B9BD5" font-family="Gadugi,Gadugi_MSFontService,sans-serif" font-weight="700" font-size="27" transform="matrix(1 0 0 0.999912 1454.81 1368)"><a xlink:href="https://github.com/changyeyu">changyeyu</a></text><text fill="#5B9BD5" font-family="STSong,STSong_MSFontService,sans-serif" font-weight="400" font-size="27" transform="matrix(1 0 0 0.999912 1596.93 1368)">）</text></g></svg>